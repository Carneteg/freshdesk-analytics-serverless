"use strict";(()=>{var e={};e.id=268,e.ids=[268],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2659:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>c});var o={};r.r(o),r.d(o,{GET:()=>l});var s=r(9303),n=r(8716),i=r(670),a=r(7070);function u(e,t){if(0===e.length)return null;let r=[...e].sort((e,t)=>e-t),o=t/100*(r.length-1),s=Math.floor(o),n=o-s;return r[s]*(1-n)+r[Math.ceil(o)]*n}async function l(){try{let r=await Object(function(){var e=Error("Cannot find module '../../_lib/freshdesk'");throw e.code="MODULE_NOT_FOUND",e}())(),o=[4,5],s=r.filter(e=>o.includes(e.status)),n=[];for(let r of s){var e,t;let o=(e=r.created_at,t=r.updated_at,(new Date(t).getTime()-new Date(e).getTime())/6e4);o>=0&&n.push(o)}return a.NextResponse.json({median_resolution_minutes:u(n,50),p90_resolution_minutes:u(n,90),sample_size:n.length})}catch(e){return a.NextResponse.json({error:e.message},{status:500})}}!function(){var e=Error("Cannot find module '../../_lib/freshdesk'");throw e.code="MODULE_NOT_FOUND",e}();let p=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/metrics/resolution/route",pathname:"/api/metrics/resolution",filename:"route",bundlePath:"app/api/metrics/resolution/route"},resolvedPagePath:"/workspaces/freshdesk-analytics-serverless/dashboard/app/api/metrics/resolution/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:m}=p,h="/api/metrics/resolution/route";function f(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:c})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[276,972],()=>r(2659));module.exports=o})();